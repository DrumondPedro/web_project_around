!function(){"use strict";function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t(e)}function e(t,e){for(var r=0;r<e.length;r++){var o=e[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,n(o.key),o)}}function n(e){var n=function(e,n){if("object"!=t(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,"string");if("object"!=t(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==t(n)?n:n+""}var r=function(){return t=function t(e,n){var r=e.name,o=e.link,i=e.likes,u=e._id,c=e.owner,a=n.config,l=n.renderer,s=n.liker,f=n.disliker,p=n.excluder,y=n.deletePopup,m=n.userId;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._name=r,this._link=o,this._cardId=u,this._ownerId=c._id,this._likes=i,this._config=a,this._renderer=l,this._liker=s,this._disliker=f,this._excluder=p,this._deletePopup=y,this._userId=m},(n=[{key:"_getTemplate",value:function(){return document.querySelector(this._config.templateSelector).content.querySelector(this._config.cardSelector).cloneNode(!0)}},{key:"_createConsts",value:function(){this._element=this._getTemplate(),this._cardName=this._element.querySelector(this._config.cardNameSelector),this._cardImage=this._element.querySelector(this._config.cardImageSelector),this._likeButton=this._element.querySelector(this._config.likeButtonSelector),this._deleteButton=this._element.querySelector(this._config.deleteButtonSelector),this._likeCounter=this._element.querySelector(this._config.likeCounterSelector)}},{key:"_isLike",value:function(){var t=this;this._likes.find((function(e){return e._id===t._userId}))&&this._likeButton.classList.add(this._config.likeButtonActive)}},{key:"_handleLikeButton",value:function(t){var e=this;this._likes.find((function(t){return t._id===e._userId}))?this._disliker(this._cardId,"/cards/likes",(function(n){e._likeCounter.textContent=n.likes.length,e._likes=n.likes,t.target.classList.remove(e._config.likeButtonActive)})):this._liker(this._cardId,"/cards/likes",(function(n){e._likeCounter.textContent=n.likes.length,e._likes=n.likes,t.target.classList.add(e._config.likeButtonActive)}))}},{key:"_handleDeleteCard",value:function(t){var e=this;this._deletePopup((function(){e._excluder(e._cardId),t.target.parentElement.remove()}))}},{key:"_handleOpenViewerPopup",value:function(){this._renderer(this._cardImage)}},{key:"_setEventListeners",value:function(){var t=this;this._likeButton.addEventListener("click",(function(e){t._handleLikeButton(e)})),this._deleteButton.addEventListener("click",(function(e){t._handleDeleteCard(e)})),this._cardImage.addEventListener("click",(function(){t._handleOpenViewerPopup()}))}},{key:"generateCard",value:function(){return this._createConsts(),this._cardName.textContent=this._name,this._cardImage.setAttribute("src",this._link),this._cardImage.setAttribute("alt",this._name),this._ownerId===this._userId&&this._deleteButton.classList.add(this._config.deleteButtonVisible),this._isLike(),this._likeCounter.textContent=this._likes.length,this._setEventListeners(),this._element}}])&&e(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n}(),o=r;function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}function u(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,c(r.key),r)}}function c(t){var e=function(t,e){if("object"!=i(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!=i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==i(e)?e:e+""}var a=function(){return t=function t(e,n,r){var o,i,u,a=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),o=this,u=function(){return a._inputList.every((function(t){if(""!=t.value.trim())return t.validity.valid}))},(i=c(i="_allInputsValid"))in o?Object.defineProperty(o,i,{value:u,enumerable:!0,configurable:!0,writable:!0}):o[i]=u,this._formElement=e,this._inputSelector=n.inputSelector,this._submitButtonSelector=n.submitButtonSelector,this._inactiveButtonClass=n.inactiveButtonClass,this._inputErrorClass=n.inputErrorClass,this._errorClass=n.errorClass,this._closeButton=r},(e=[{key:"_createConsts",value:function(){this._formElement=document.querySelector(this._formElement),this._submitButtonElement=this._formElement.querySelector(this._submitButtonSelector),this._inputList=Array.from(this._formElement.querySelectorAll(this._inputSelector)),this._closeButton=document.querySelector(this._closeButton)}},{key:"_showError",value:function(t){var e=this._formElement.querySelector(".".concat(t.id,"-error"));t.classList.add(this._inputErrorClass),e.textContent=t.validationMessage,e.classList.add(this._errorClass)}},{key:"_hideError",value:function(t){var e=this._formElement.querySelector(".".concat(t.id,"-error"));t.classList.remove(this._inputErrorClass),e.classList.remove(this._errorClass),e.textContent=""}},{key:"_checkInputValidity",value:function(t){t.validity.valid?this._hideError(t):this._showError(t)}},{key:"_toggleButtonState",value:function(){this._allInputsValid(this._inputList)?this._submitButtonElement.classList.remove(this._inactiveButtonClass):this._submitButtonElement.classList.add(this._inactiveButtonClass)}},{key:"_setEventListeners",value:function(){var t=this;this._inputList.forEach((function(e){e.addEventListener("input",(function(){t._checkInputValidity(e),t._toggleButtonState()}))})),this._closeButton.addEventListener("click",(function(e){t._resetValidation()}))}},{key:"enableValidation",value:function(){var t=this;this._createConsts(),this._formElement.addEventListener("submit",(function(e){e.preventDefault(),setTimeout((function(){t._submitButtonElement.classList.add(t._inactiveButtonClass)}),2e3)})),this._toggleButtonState(),this._setEventListeners()}},{key:"_resetValidation",value:function(){var t=this;this._inputList.forEach((function(e){t._hideError(e)}))}}])&&u(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e}();function l(t){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},l(t)}function s(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,f(r.key),r)}}function f(t){var e=function(t,e){if("object"!=l(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!=l(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==l(e)?e:e+""}var p=function(){return t=function t(e){var n,r,o,i=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,o=function(t){"Escape"===t.key&&i.close()},(r=f(r="_handleEscClose"))in n?Object.defineProperty(n,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[r]=o,this._popup=document.querySelector(e.popupSelector),this._openClass=e.openClass,this._closeButton=document.querySelector(e.closeButtonSelector)},(e=[{key:"open",value:function(){var t=this;this._popup.classList.add(this._openClass),document.addEventListener("keydown",this._handleEscClose),this._closeButton.addEventListener("click",(function(){t.close()}))}},{key:"close",value:function(){document.removeEventListener("keydown",this._handleEscClose),this._popup.classList.remove(this._openClass)}},{key:"setEventListeners",value:function(){var t=this;this._popup.addEventListener("click",(function(e){e.target.classList.remove(t._openClass)}))}}])&&s(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e}();function y(t){return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},y(t)}function m(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,h(r.key),r)}}function h(t){var e=function(t,e){if("object"!=y(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!=y(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==y(e)?e:e+""}function d(t,e,n){return e=v(e),function(t,e){if(e&&("object"==y(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,_()?Reflect.construct(e,n||[],v(t).constructor):e.apply(t,n))}function _(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(_=function(){return!!t})()}function b(){return b="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=v(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},b.apply(null,arguments)}function v(t){return v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},v(t)}function S(t,e){return S=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},S(t,e)}var g=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=d(this,e,[t]))._closeButton=document.querySelector(t.closeButtonSelector),n._image=document.querySelector(t.viewerImageSelector),n._title=document.querySelector(t.viewerTitleSelector),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&S(t,e)}(e,t),n=e,(r=[{key:"open",value:function(t){this._image.setAttribute("src",t.src),this._image.setAttribute("alt",t.alt),this._title.textContent=t.alt,b(v(e.prototype),"open",this).call(this)}}])&&m(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(p);function k(t){return k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},k(t)}function w(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,E(r.key),r)}}function E(t){var e=function(t,e){if("object"!=k(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!=k(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==k(e)?e:e+""}function j(t,e,n){return e=O(e),function(t,e){if(e&&("object"==k(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,P()?Reflect.construct(e,n||[],O(t).constructor):e.apply(t,n))}function P(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(P=function(){return!!t})()}function C(){return C="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=O(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},C.apply(null,arguments)}function O(t){return O=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},O(t)}function B(t,e){return B=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},B(t,e)}var L=function(t){function e(t,n){var r,o=n.submitFunction;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=j(this,e,[t]))._formElement=document.querySelector(t.formElement),r._inputSelector=t.inputSelector,r._submitFunction=o,r._submitButton=r._formElement.querySelector(t.submitButtonSelector),r._buttonText=t.buttonText,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&B(t,e)}(e,t),n=e,(r=[{key:"_getInputValues",value:function(){var t=this;return this._inputsData={},this._inputList=Array.from(this._formElement.querySelectorAll(this._inputSelector)),this._inputList.forEach((function(e){t._inputsData[e.id]=e.value})),this._inputsData}},{key:"setEventListeners",value:function(){var t=this;C(O(e.prototype),"setEventListeners",this).call(this),this._formElement.addEventListener("submit",(function(e){e.preventDefault(),t._data=t._getInputValues(),t._submitFunction(t._data)}))}},{key:"close",value:function(){this._formElement.reset(),C(O(e.prototype),"close",this).call(this)}},{key:"renderSaving",value:function(t){this._submitButton.textContent=t?"Salvando...":this._buttonText}}])&&w(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(p);function T(t){return T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},T(t)}function I(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,q(r.key),r)}}function q(t){var e=function(t,e){if("object"!=T(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!=T(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==T(e)?e:e+""}function x(t,e,n){return e=R(e),function(t,e){if(e&&("object"==T(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,A()?Reflect.construct(e,n||[],R(t).constructor):e.apply(t,n))}function A(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(A=function(){return!!t})()}function R(t){return R=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},R(t)}function U(t,e){return U=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},U(t,e)}var D=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=x(this,e,[t]))._confirmationButton=document.querySelector(t.confirmationButtonSelector),n._buttonText=t.buttonText,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&U(t,e)}(e,t),n=e,(r=[{key:"renderDeleting",value:function(t){this._confirmationButton.textContent=t?"Deletando...":this._buttonText}},{key:"isDelete",value:function(t){this._confirmationButton.addEventListener("click",(function(){t()}))}}])&&I(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(p);function z(t){return z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},z(t)}function V(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,N(r.key),r)}}function N(t){var e=function(t,e){if("object"!=z(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!=z(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==z(e)?e:e+""}var F=function(){return t=function t(e,n){var r=e.items,o=e.renderer;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._items=r,this._renderer=o,this._container=document.querySelector(n)},(e=[{key:"addItem",value:function(t){this._container.prepend(t)}},{key:"getItems",value:function(){return this._items}},{key:"setItems",value:function(t){this._items=t}},{key:"clear",value:function(){this._container.innerHTML=""}},{key:"itemRenderer",value:function(){var t=this;this._items.forEach((function(e){t._renderer(e)}))}}])&&V(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e}();function H(t){return H="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},H(t)}function J(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,G(r.key),r)}}function G(t){var e=function(t,e){if("object"!=H(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!=H(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==H(e)?e:e+""}var M=function(){return t=function t(e){var n=e.personSelector,r=e.aboutSelector;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._name=document.querySelector(n),this._about=document.querySelector(r)},(e=[{key:"getUserInfo",value:function(){return this._userInfo={},this._userInfo.name=this._name.textContent,this._userInfo.about=this._about.textContent,this._userInfo}},{key:"setUserInfo",value:function(t){var e=t.name,n=t.about;this._name.textContent=e,this._about.textContent=n}}])&&J(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e}();function K(t){return K="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},K(t)}function Q(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,W(r.key),r)}}function W(t){var e=function(t,e){if("object"!=K(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!=K(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==K(e)?e:e+""}var X,Y=function(){return t=function t(e){var n=e.baseURL,r=e.userAuthorization;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._baseURL=n,this._userAuthorization=r},(e=[{key:"getInitialCards",value:function(t){return fetch("".concat(this._baseURL).concat(t),{method:"GET",headers:{authorization:this._userAuthorization}})}},{key:"addNewCard",value:function(t,e){var n=t.name,r=t.link;return fetch("".concat(this._baseURL).concat(e),{method:"POST",headers:{authorization:this._userAuthorization,"Content-Type":"application/json"},body:JSON.stringify({name:"".concat(n),link:"".concat(r)})})}},{key:"deleteCard",value:function(t,e){return fetch("".concat(this._baseURL).concat(e,"/").concat(t),{method:"DELETE",headers:{authorization:this._userAuthorization}})}},{key:"getUserInfo",value:function(t){return fetch("".concat(this._baseURL).concat(t),{method:"GET",headers:{authorization:this._userAuthorization}})}},{key:"updateUserInfo",value:function(t,e){var n=t.person,r=t.about;return fetch("".concat(this._baseURL).concat(e),{method:"PATCH",headers:{authorization:this._userAuthorization,"Content-Type":"application/json"},body:JSON.stringify({name:"".concat(n),about:"".concat(r)})})}},{key:"updateUserAvatar",value:function(t,e){var n=t.picture;return console.log(n),fetch("".concat(this._baseURL).concat(e),{method:"PATCH",headers:{authorization:this._userAuthorization,"Content-Type":"application/json"},body:JSON.stringify({avatar:"".concat(n)})})}},{key:"like",value:function(t,e){return fetch("".concat(this._baseURL).concat(e,"/").concat(t),{method:"PUT",headers:{authorization:this._userAuthorization}})}},{key:"dislike",value:function(t,e){return fetch("".concat(this._baseURL).concat(e,"/").concat(t),{method:"DELETE",headers:{authorization:this._userAuthorization}})}}])&&Q(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e}(),Z=document.querySelector(".profile__edit-button"),$=document.querySelector(".profile__add-button"),tt=document.querySelector(".profile__picture-edit-button"),et=document.querySelector(".form__input_name"),nt=document.querySelector(".form__input_about"),rt=document.querySelector(".profile__picture"),ot="57ad3ec977745486d8c3e581",it={cardsContainerSelector:".gallery__cards",templateSelector:"#template-cards",cardSelector:".gallery__card",cardNameSelector:".gallery__card-name",cardImageSelector:".gallery__card-image",likeButtonSelector:".gallery__card-like-button",likeButtonActive:"gallery__card-like-button-active",deleteButtonSelector:".gallery__card-delete-button",deleteButtonVisible:"gallery__card-delete-button-visible",likeCounterSelector:".gallery__card-like-counter"},ut={inputSelector:".form__input",submitButtonSelector:".form__submit-button",inactiveButtonClass:"form__submit-button-inactive",inputErrorClass:"form__input_type-error",errorClass:"form__error_visible"},ct=new Y({baseURL:"https://around.nomoreparties.co/v1/web-ptbr-cohort-11",userAuthorization:"3fda8d28-174d-4647-9b4c-9acb9effd1bc"}),at=new g({popupSelector:".viewer",openClass:"viewer_visible",closeButtonSelector:".viewer__close-button",viewerImageSelector:".viewer__image",viewerTitleSelector:".viewer__title"});at.setEventListeners();var lt=new D({popupSelector:".confirmer_image-delete",openClass:"confirmer_visible",closeButtonSelector:".confirmer__image-delete-close-button",confirmationButtonSelector:".confirmer__confirmation-button",buttonText:"Sim"});function st(t){console.log("deletou o card: ".concat(t)),lt.renderDeleting(!0),ct.deleteCard(t,"/cards").then((function(t){return t.ok?t.json():Promise.reject("Error: ".concat(t.status))})).then((function(t){console.log("deletou o cartÃ£o: ".concat(t))})).catch((function(t){console.log(t)})).finally((function(){lt.renderDeleting(!1),lt.close()}))}function ft(t){lt.open(),lt.isDelete(t)}lt.setEventListeners(),ct.getInitialCards("/cards").then((function(t){return t.ok?t.json():Promise.reject("Error: ".concat(t.status))})).then((function(t){(X=new F({items:t,renderer:function(t){var e=new o(t,{config:it,renderer:function(t){at.open(t)},liker:function(t,e,n){ct.like(t,e).then((function(t){return t.ok?t.json():Promise.reject("Error: ".concat(t.status))})).then((function(t){n(t)})).catch((function(t){console.log(t)}))},disliker:function(t,e,n){ct.dislike(t,e).then((function(t){return t.ok?t.json():Promise.reject("Error: ".concat(t.status))})).then((function(t){n(t)})).catch((function(t){console.log(t)}))},excluder:st,deletePopup:function(t){ft(t)},userId:ot}),n=e.generateCard();X.addItem(n)}},it.cardsContainerSelector)).itemRenderer()})).catch((function(t){console.log(t)}));var pt=new L({popupSelector:".editor_gallery",openClass:"editor_visible",closeButtonSelector:".editor__gallery-close-button",formElement:".form_gallery",inputSelector:".form__input",submitButtonSelector:".form__submit-button",buttonText:"Criar"},{submitFunction:function(t){pt.renderSaving(!0),ct.addNewCard(t,"/cards").then((function(t){return t.ok?t.json():Promise.reject("Error: ".concat(t.status))})).then((function(t){var e=new o(t,{config:it,renderer:function(t){at.open(t)},liker:function(t,e,n){ct.like(t,e).then((function(t){return t.ok?t.json():Promise.reject("Error: ".concat(t.status))})).then((function(t){n(t)})).catch((function(t){console.log(t)}))},disliker:function(t,e,n){ct.dislike(t,e).then((function(t){return t.ok?t.json():Promise.reject("Error: ".concat(t.status))})).then((function(t){n(t)})).catch((function(t){console.log(t)}))},excluder:st,deletePopup:function(t){ft(t)},userId:ot}),n=e.generateCard();X.addItem(n)})).catch((function(t){console.log(t)})).finally((function(){pt.renderSaving(!1),pt.close()}))}});pt.setEventListeners(),$.addEventListener("click",(function(){pt.open()}));var yt=new M({personSelector:".profile__name",aboutSelector:".profile__about"});ct.getUserInfo("/users/me").then((function(t){return t.ok?t.json():Promise.reject("Error: ".concat(t.status))})).then((function(t){yt.setUserInfo(t),rt.setAttribute("src","".concat(t.avatar))})).catch((function(t){console.log(t)}));var mt=new L({popupSelector:".editor_profile",openClass:"editor_visible",closeButtonSelector:".editor__profile-close-button",formElement:".form_profile",inputSelector:".form__input",submitButtonSelector:".form__submit-button",buttonText:"Salvar"},{submitFunction:function(t){mt.renderSaving(!0),ct.updateUserInfo(t,"/users/me").then((function(t){return t.ok?t.json():Promise.reject("Error: ".concat(t.status))})).then((function(t){yt.setUserInfo(t)})).catch((function(t){console.log(t)})).finally((function(){mt.close(),mt.renderSaving(!1)}))}});mt.setEventListeners(),Z.addEventListener("click",(function(){var t=yt.getUserInfo();et.value=t.name,nt.value=t.about,mt.open()}));var ht=new L({popupSelector:".editor_picture",openClass:"editor_visible",closeButtonSelector:".editor__picture-close-button",formElement:".form_picture",inputSelector:".form__input",submitButtonSelector:".form__submit-button",buttonText:"Salvar"},{submitFunction:function(t){ht.renderSaving(!0),ct.updateUserAvatar(t,"/users/me/avatar").then((function(t){return t.ok?t.json():Promise.reject("Error: ".concat(t.status))})).then((function(t){rt.setAttribute("src","".concat(t.avatar))})).catch((function(t){console.log(t)})).finally((function(){ht.close(),ht.renderSaving(!1)}))}});ht.setEventListeners(),tt.addEventListener("click",(function(){ht.open()})),new a(".form_profile",ut,".editor__profile-close-button").enableValidation(),new a(".form_gallery",ut,".editor__gallery-close-button").enableValidation(),new a(".form_picture",ut,".editor__picture-close-button").enableValidation()}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUl5QixFQUNkLElBQ0NDLFNBQVEsV0FDUHVCLEdBQWE5SCxRQUNiOEgsR0FBYVAsY0FBYSxFQUM1QixHQUNKLElBR0ZPLEdBQWFwQyxvQkFFYlQsR0FBa0JqSSxpQkFBaUIsU0FBUyxXQUMxQzhLLEdBQWFyQixNQUNmLElBRUEsSUFBSWhKLEVBQ0YsZ0JBQ0E4SCxHQUNBLGlDQUNBeUMsbUJBRUYsSUFBSXZLLEVBQ0YsZ0JBQ0E4SCxHQUNBLGlDQUNBeUMsbUJBRUYsSUFBSXZLLEVBQ0YsZ0JBQ0E4SCxHQUNBLGlDQUNBeUMsa0IiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly93ZWJfcHJvamVjdF9hcm91bmQvLi9zcmMvc2NyaXB0cy9DYXJkLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0X2Fyb3VuZC8uL3NyYy9zY3JpcHRzL0Zvcm1WYWxpZGF0b3IuanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfYXJvdW5kLy4vc3JjL3NjcmlwdHMvUG9wdXAuanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfYXJvdW5kLy4vc3JjL3NjcmlwdHMvUG9wdXBXaXRoSW1hZ2UuanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfYXJvdW5kLy4vc3JjL3NjcmlwdHMvUG9wdXBXaXRoRm9ybS5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF9hcm91bmQvLi9zcmMvc2NyaXB0cy9Qb3B1cFdpdGhDb25maXJtYXRpb24uanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfYXJvdW5kLy4vc3JjL3NjcmlwdHMvU2VjdGlvbi5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF9hcm91bmQvLi9zcmMvc2NyaXB0cy9Vc2VySW5mby5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF9hcm91bmQvLi9zcmMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfYXJvdW5kLy4vc3JjL3NjcmlwdHMvQXBpLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0X2Fyb3VuZC8uL3NyYy9zY3JpcHRzL3V0aWxzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNsYXNzIENhcmQge1xuICBjb25zdHJ1Y3RvcihcbiAgICB7IG5hbWUsIGxpbmssIGxpa2VzLCBfaWQsIG93bmVyIH0sXG4gICAgeyBjb25maWcsIHJlbmRlcmVyLCBsaWtlciwgZGlzbGlrZXIsIGV4Y2x1ZGVyLCBkZWxldGVQb3B1cCwgdXNlcklkIH1cbiAgKSB7XG4gICAgdGhpcy5fbmFtZSA9IG5hbWU7XG4gICAgdGhpcy5fbGluayA9IGxpbms7XG4gICAgdGhpcy5fY2FyZElkID0gX2lkO1xuICAgIHRoaXMuX293bmVySWQgPSBvd25lci5faWQ7XG4gICAgdGhpcy5fbGlrZXMgPSBsaWtlcztcbiAgICB0aGlzLl9jb25maWcgPSBjb25maWc7XG4gICAgdGhpcy5fcmVuZGVyZXIgPSByZW5kZXJlcjtcbiAgICB0aGlzLl9saWtlciA9IGxpa2VyO1xuICAgIHRoaXMuX2Rpc2xpa2VyID0gZGlzbGlrZXI7XG4gICAgdGhpcy5fZXhjbHVkZXIgPSBleGNsdWRlcjtcbiAgICB0aGlzLl9kZWxldGVQb3B1cCA9IGRlbGV0ZVBvcHVwO1xuICAgIHRoaXMuX3VzZXJJZCA9IHVzZXJJZDtcbiAgfVxuXG4gIF9nZXRUZW1wbGF0ZSgpIHtcbiAgICBjb25zdCBjYXJkRWxlbWVudCA9IGRvY3VtZW50XG4gICAgICAucXVlcnlTZWxlY3Rvcih0aGlzLl9jb25maWcudGVtcGxhdGVTZWxlY3RvcilcbiAgICAgIC5jb250ZW50LnF1ZXJ5U2VsZWN0b3IodGhpcy5fY29uZmlnLmNhcmRTZWxlY3RvcilcbiAgICAgIC5jbG9uZU5vZGUodHJ1ZSk7XG5cbiAgICByZXR1cm4gY2FyZEVsZW1lbnQ7XG4gIH1cblxuICBfY3JlYXRlQ29uc3RzKCkge1xuICAgIHRoaXMuX2VsZW1lbnQgPSB0aGlzLl9nZXRUZW1wbGF0ZSgpO1xuXG4gICAgdGhpcy5fY2FyZE5hbWUgPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IodGhpcy5fY29uZmlnLmNhcmROYW1lU2VsZWN0b3IpO1xuICAgIHRoaXMuX2NhcmRJbWFnZSA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihcbiAgICAgIHRoaXMuX2NvbmZpZy5jYXJkSW1hZ2VTZWxlY3RvclxuICAgICk7XG4gICAgdGhpcy5fbGlrZUJ1dHRvbiA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihcbiAgICAgIHRoaXMuX2NvbmZpZy5saWtlQnV0dG9uU2VsZWN0b3JcbiAgICApO1xuICAgIHRoaXMuX2RlbGV0ZUJ1dHRvbiA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihcbiAgICAgIHRoaXMuX2NvbmZpZy5kZWxldGVCdXR0b25TZWxlY3RvclxuICAgICk7XG4gICAgdGhpcy5fbGlrZUNvdW50ZXIgPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXG4gICAgICB0aGlzLl9jb25maWcubGlrZUNvdW50ZXJTZWxlY3RvclxuICAgICk7XG4gIH1cblxuICBfaXNMaWtlKCkge1xuICAgIGlmIChcbiAgICAgIHRoaXMuX2xpa2VzLmZpbmQoKGVsZW1lbnQpID0+IHtcbiAgICAgICAgcmV0dXJuIGVsZW1lbnQuX2lkID09PSB0aGlzLl91c2VySWQ7XG4gICAgICB9KVxuICAgICkge1xuICAgICAgdGhpcy5fbGlrZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKHRoaXMuX2NvbmZpZy5saWtlQnV0dG9uQWN0aXZlKTtcbiAgICB9XG4gIH1cblxuICBfaGFuZGxlTGlrZUJ1dHRvbihldnQpIHtcbiAgICBpZiAoXG4gICAgICB0aGlzLl9saWtlcy5maW5kKChlbGVtZW50KSA9PiB7XG4gICAgICAgIHJldHVybiBlbGVtZW50Ll9pZCA9PT0gdGhpcy5fdXNlcklkO1xuICAgICAgfSlcbiAgICApIHtcbiAgICAgIHRoaXMuX2Rpc2xpa2VyKHRoaXMuX2NhcmRJZCwgXCIvY2FyZHMvbGlrZXNcIiwgKHJlcykgPT4ge1xuICAgICAgICB0aGlzLl9saWtlQ291bnRlci50ZXh0Q29udGVudCA9IHJlcy5saWtlcy5sZW5ndGg7XG4gICAgICAgIHRoaXMuX2xpa2VzID0gcmVzLmxpa2VzO1xuICAgICAgICBldnQudGFyZ2V0LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5fY29uZmlnLmxpa2VCdXR0b25BY3RpdmUpO1xuICAgICAgfSk7XG4gICAgICByZXR1cm47XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX2xpa2VyKHRoaXMuX2NhcmRJZCwgXCIvY2FyZHMvbGlrZXNcIiwgKHJlcykgPT4ge1xuICAgICAgICB0aGlzLl9saWtlQ291bnRlci50ZXh0Q29udGVudCA9IHJlcy5saWtlcy5sZW5ndGg7XG4gICAgICAgIHRoaXMuX2xpa2VzID0gcmVzLmxpa2VzO1xuICAgICAgICBldnQudGFyZ2V0LmNsYXNzTGlzdC5hZGQodGhpcy5fY29uZmlnLmxpa2VCdXR0b25BY3RpdmUpO1xuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgX2hhbmRsZURlbGV0ZUNhcmQoZXZ0KSB7XG4gICAgdGhpcy5fZGVsZXRlUG9wdXAoKCkgPT4ge1xuICAgICAgdGhpcy5fZXhjbHVkZXIodGhpcy5fY2FyZElkKTtcbiAgICAgIGV2dC50YXJnZXQucGFyZW50RWxlbWVudC5yZW1vdmUoKTtcbiAgICB9KTtcbiAgfVxuXG4gIF9oYW5kbGVPcGVuVmlld2VyUG9wdXAoKSB7XG4gICAgdGhpcy5fcmVuZGVyZXIodGhpcy5fY2FyZEltYWdlKTtcbiAgfVxuXG4gIF9zZXRFdmVudExpc3RlbmVycygpIHtcbiAgICB0aGlzLl9saWtlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZXZ0KSA9PiB7XG4gICAgICB0aGlzLl9oYW5kbGVMaWtlQnV0dG9uKGV2dCk7XG4gICAgfSk7XG5cbiAgICB0aGlzLl9kZWxldGVCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChldnQpID0+IHtcbiAgICAgIHRoaXMuX2hhbmRsZURlbGV0ZUNhcmQoZXZ0KTtcbiAgICB9KTtcblxuICAgIHRoaXMuX2NhcmRJbWFnZS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgdGhpcy5faGFuZGxlT3BlblZpZXdlclBvcHVwKCk7XG4gICAgfSk7XG4gIH1cblxuICBnZW5lcmF0ZUNhcmQoKSB7XG4gICAgdGhpcy5fY3JlYXRlQ29uc3RzKCk7XG5cbiAgICB0aGlzLl9jYXJkTmFtZS50ZXh0Q29udGVudCA9IHRoaXMuX25hbWU7XG4gICAgdGhpcy5fY2FyZEltYWdlLnNldEF0dHJpYnV0ZShcInNyY1wiLCB0aGlzLl9saW5rKTtcbiAgICB0aGlzLl9jYXJkSW1hZ2Uuc2V0QXR0cmlidXRlKFwiYWx0XCIsIHRoaXMuX25hbWUpO1xuXG4gICAgaWYgKHRoaXMuX293bmVySWQgPT09IHRoaXMuX3VzZXJJZCkge1xuICAgICAgdGhpcy5fZGVsZXRlQnV0dG9uLmNsYXNzTGlzdC5hZGQodGhpcy5fY29uZmlnLmRlbGV0ZUJ1dHRvblZpc2libGUpO1xuICAgIH1cblxuICAgIHRoaXMuX2lzTGlrZSgpO1xuXG4gICAgdGhpcy5fbGlrZUNvdW50ZXIudGV4dENvbnRlbnQgPSB0aGlzLl9saWtlcy5sZW5ndGg7XG5cbiAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycygpO1xuXG4gICAgcmV0dXJuIHRoaXMuX2VsZW1lbnQ7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgQ2FyZDtcbiIsImNsYXNzIEZvcm1WYWxpZGF0b3Ige1xyXG4gIGNvbnN0cnVjdG9yKGZvcm1FbGVtZW50LCBjb25maWcsIGNsb3NlQnV0dG9uKSB7XHJcbiAgICB0aGlzLl9mb3JtRWxlbWVudCA9IGZvcm1FbGVtZW50O1xyXG4gICAgdGhpcy5faW5wdXRTZWxlY3RvciA9IGNvbmZpZy5pbnB1dFNlbGVjdG9yO1xyXG4gICAgdGhpcy5fc3VibWl0QnV0dG9uU2VsZWN0b3IgPSBjb25maWcuc3VibWl0QnV0dG9uU2VsZWN0b3I7XHJcbiAgICB0aGlzLl9pbmFjdGl2ZUJ1dHRvbkNsYXNzID0gY29uZmlnLmluYWN0aXZlQnV0dG9uQ2xhc3M7XHJcbiAgICB0aGlzLl9pbnB1dEVycm9yQ2xhc3MgPSBjb25maWcuaW5wdXRFcnJvckNsYXNzO1xyXG4gICAgdGhpcy5fZXJyb3JDbGFzcyA9IGNvbmZpZy5lcnJvckNsYXNzO1xyXG4gICAgdGhpcy5fY2xvc2VCdXR0b24gPSBjbG9zZUJ1dHRvbjtcclxuICB9XHJcblxyXG4gIF9jcmVhdGVDb25zdHMoKSB7XHJcbiAgICB0aGlzLl9mb3JtRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGhpcy5fZm9ybUVsZW1lbnQpO1xyXG4gICAgdGhpcy5fc3VibWl0QnV0dG9uRWxlbWVudCA9IHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXHJcbiAgICAgIHRoaXMuX3N1Ym1pdEJ1dHRvblNlbGVjdG9yXHJcbiAgICApO1xyXG4gICAgdGhpcy5faW5wdXRMaXN0ID0gQXJyYXkuZnJvbShcclxuICAgICAgdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvckFsbCh0aGlzLl9pbnB1dFNlbGVjdG9yKVxyXG4gICAgKTtcclxuXHJcbiAgICB0aGlzLl9jbG9zZUJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGhpcy5fY2xvc2VCdXR0b24pO1xyXG4gIH1cclxuXHJcbiAgX3Nob3dFcnJvcihpbnB1dEVsZW1lbnQpIHtcclxuICAgIGNvbnN0IGVycm9yRWxlbWVudCA9IHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXHJcbiAgICAgIGAuJHtpbnB1dEVsZW1lbnQuaWR9LWVycm9yYFxyXG4gICAgKTtcclxuICAgIGlucHV0RWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX2lucHV0RXJyb3JDbGFzcyk7XHJcbiAgICBlcnJvckVsZW1lbnQudGV4dENvbnRlbnQgPSBpbnB1dEVsZW1lbnQudmFsaWRhdGlvbk1lc3NhZ2U7XHJcbiAgICBlcnJvckVsZW1lbnQuY2xhc3NMaXN0LmFkZCh0aGlzLl9lcnJvckNsYXNzKTtcclxuICB9XHJcblxyXG4gIF9oaWRlRXJyb3IoaW5wdXRFbGVtZW50KSB7XHJcbiAgICBjb25zdCBlcnJvckVsZW1lbnQgPSB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKFxyXG4gICAgICBgLiR7aW5wdXRFbGVtZW50LmlkfS1lcnJvcmBcclxuICAgICk7XHJcbiAgICBpbnB1dEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9pbnB1dEVycm9yQ2xhc3MpO1xyXG4gICAgZXJyb3JFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5fZXJyb3JDbGFzcyk7XHJcbiAgICBlcnJvckVsZW1lbnQudGV4dENvbnRlbnQgPSBcIlwiO1xyXG4gIH1cclxuXHJcbiAgX2NoZWNrSW5wdXRWYWxpZGl0eShpbnB1dEVsZW1lbnQpIHtcclxuICAgIGlmIChpbnB1dEVsZW1lbnQudmFsaWRpdHkudmFsaWQpIHtcclxuICAgICAgdGhpcy5faGlkZUVycm9yKGlucHV0RWxlbWVudCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLl9zaG93RXJyb3IoaW5wdXRFbGVtZW50KTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIF9hbGxJbnB1dHNWYWxpZCA9ICgpID0+IHtcclxuICAgIHJldHVybiB0aGlzLl9pbnB1dExpc3QuZXZlcnkoKGlucHV0RWxlbWVudCkgPT4ge1xyXG4gICAgICBpZiAoaW5wdXRFbGVtZW50LnZhbHVlLnRyaW0oKSAhPSBcIlwiKSB7XHJcbiAgICAgICAgcmV0dXJuIGlucHV0RWxlbWVudC52YWxpZGl0eS52YWxpZDtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfTtcclxuXHJcbiAgX3RvZ2dsZUJ1dHRvblN0YXRlKCkge1xyXG4gICAgaWYgKHRoaXMuX2FsbElucHV0c1ZhbGlkKHRoaXMuX2lucHV0TGlzdCkpIHtcclxuICAgICAgdGhpcy5fc3VibWl0QnV0dG9uRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2luYWN0aXZlQnV0dG9uQ2xhc3MpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5fc3VibWl0QnV0dG9uRWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX2luYWN0aXZlQnV0dG9uQ2xhc3MpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgX3NldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgdGhpcy5faW5wdXRMaXN0LmZvckVhY2goKGlucHV0RWxlbWVudCkgPT4ge1xyXG4gICAgICBpbnB1dEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImlucHV0XCIsICgpID0+IHtcclxuICAgICAgICB0aGlzLl9jaGVja0lucHV0VmFsaWRpdHkoaW5wdXRFbGVtZW50KTtcclxuICAgICAgICB0aGlzLl90b2dnbGVCdXR0b25TdGF0ZSgpO1xyXG4gICAgICB9KTtcclxuICAgIH0pO1xyXG5cclxuICAgIHRoaXMuX2Nsb3NlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZXZ0KSA9PiB7XHJcbiAgICAgIHRoaXMuX3Jlc2V0VmFsaWRhdGlvbigpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBlbmFibGVWYWxpZGF0aW9uKCkge1xyXG4gICAgdGhpcy5fY3JlYXRlQ29uc3RzKCk7XHJcblxyXG4gICAgdGhpcy5fZm9ybUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCAoZXZ0KSA9PiB7XHJcbiAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICB0aGlzLl9zdWJtaXRCdXR0b25FbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5faW5hY3RpdmVCdXR0b25DbGFzcyk7XHJcbiAgICAgIH0sIDIwMDApO1xyXG4gICAgfSk7XHJcblxyXG4gICAgdGhpcy5fdG9nZ2xlQnV0dG9uU3RhdGUoKTtcclxuICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKCk7XHJcbiAgfVxyXG5cclxuICBfcmVzZXRWYWxpZGF0aW9uKCkge1xyXG4gICAgdGhpcy5faW5wdXRMaXN0LmZvckVhY2goKGlucHV0RWxlbWVudCkgPT4ge1xyXG4gICAgICB0aGlzLl9oaWRlRXJyb3IoaW5wdXRFbGVtZW50KTtcclxuICAgIH0pO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgRm9ybVZhbGlkYXRvcjtcclxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXAge1xyXG4gIGNvbnN0cnVjdG9yKGNvbmZpZykge1xyXG4gICAgdGhpcy5fcG9wdXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGNvbmZpZy5wb3B1cFNlbGVjdG9yKTtcclxuICAgIHRoaXMuX29wZW5DbGFzcyA9IGNvbmZpZy5vcGVuQ2xhc3M7XHJcbiAgICB0aGlzLl9jbG9zZUJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoY29uZmlnLmNsb3NlQnV0dG9uU2VsZWN0b3IpO1xyXG4gIH1cclxuXHJcbiAgb3BlbigpIHtcclxuICAgIHRoaXMuX3BvcHVwLmNsYXNzTGlzdC5hZGQodGhpcy5fb3BlbkNsYXNzKTtcclxuXHJcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCB0aGlzLl9oYW5kbGVFc2NDbG9zZSk7XHJcblxyXG4gICAgdGhpcy5fY2xvc2VCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgICAgdGhpcy5jbG9zZSgpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBjbG9zZSgpIHtcclxuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIHRoaXMuX2hhbmRsZUVzY0Nsb3NlKTtcclxuICAgIHRoaXMuX3BvcHVwLmNsYXNzTGlzdC5yZW1vdmUodGhpcy5fb3BlbkNsYXNzKTtcclxuICB9XHJcblxyXG4gIF9oYW5kbGVFc2NDbG9zZSA9IChldnQpID0+IHtcclxuICAgIGlmIChldnQua2V5ID09PSBcIkVzY2FwZVwiKSB7XHJcbiAgICAgIHRoaXMuY2xvc2UoKTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICBzZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgIHRoaXMuX3BvcHVwLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZXZ0KSA9PiB7XHJcbiAgICAgIGV2dC50YXJnZXQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9vcGVuQ2xhc3MpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCBQb3B1cCBmcm9tIFwiLi9Qb3B1cFwiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBXaXRoSW1hZ2UgZXh0ZW5kcyBQb3B1cCB7XHJcbiAgY29uc3RydWN0b3IoY29uZmlnKSB7XHJcbiAgICBzdXBlcihjb25maWcpO1xyXG4gICAgdGhpcy5fY2xvc2VCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGNvbmZpZy5jbG9zZUJ1dHRvblNlbGVjdG9yKTtcclxuICAgIHRoaXMuX2ltYWdlID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihjb25maWcudmlld2VySW1hZ2VTZWxlY3Rvcik7XHJcbiAgICB0aGlzLl90aXRsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoY29uZmlnLnZpZXdlclRpdGxlU2VsZWN0b3IpO1xyXG4gIH1cclxuXHJcbiAgb3BlbihpdGVtKSB7XHJcbiAgICB0aGlzLl9pbWFnZS5zZXRBdHRyaWJ1dGUoXCJzcmNcIiwgaXRlbS5zcmMpO1xyXG4gICAgdGhpcy5faW1hZ2Uuc2V0QXR0cmlidXRlKFwiYWx0XCIsIGl0ZW0uYWx0KTtcclxuICAgIHRoaXMuX3RpdGxlLnRleHRDb250ZW50ID0gaXRlbS5hbHQ7XHJcblxyXG4gICAgc3VwZXIub3BlbigpO1xyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXBcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aEZvcm0gZXh0ZW5kcyBQb3B1cCB7XHJcbiAgY29uc3RydWN0b3IoY29uZmlnLCB7IHN1Ym1pdEZ1bmN0aW9uIH0pIHtcclxuICAgIHN1cGVyKGNvbmZpZyk7XHJcbiAgICB0aGlzLl9mb3JtRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoY29uZmlnLmZvcm1FbGVtZW50KTtcclxuICAgIHRoaXMuX2lucHV0U2VsZWN0b3IgPSBjb25maWcuaW5wdXRTZWxlY3RvcjtcclxuICAgIHRoaXMuX3N1Ym1pdEZ1bmN0aW9uID0gc3VibWl0RnVuY3Rpb247XHJcbiAgICB0aGlzLl9zdWJtaXRCdXR0b24gPSB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKFxyXG4gICAgICBjb25maWcuc3VibWl0QnV0dG9uU2VsZWN0b3JcclxuICAgICk7XHJcbiAgICB0aGlzLl9idXR0b25UZXh0ID0gY29uZmlnLmJ1dHRvblRleHQ7XHJcbiAgfVxyXG5cclxuICBfZ2V0SW5wdXRWYWx1ZXMoKSB7XHJcbiAgICB0aGlzLl9pbnB1dHNEYXRhID0ge307XHJcblxyXG4gICAgdGhpcy5faW5wdXRMaXN0ID0gQXJyYXkuZnJvbShcclxuICAgICAgdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvckFsbCh0aGlzLl9pbnB1dFNlbGVjdG9yKVxyXG4gICAgKTtcclxuXHJcbiAgICB0aGlzLl9pbnB1dExpc3QuZm9yRWFjaCgoaW5wdXRFbGVtZW50KSA9PiB7XHJcbiAgICAgIHRoaXMuX2lucHV0c0RhdGFbaW5wdXRFbGVtZW50LmlkXSA9IGlucHV0RWxlbWVudC52YWx1ZTtcclxuICAgIH0pO1xyXG5cclxuICAgIHJldHVybiB0aGlzLl9pbnB1dHNEYXRhO1xyXG4gIH1cclxuXHJcbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICBzdXBlci5zZXRFdmVudExpc3RlbmVycygpO1xyXG5cclxuICAgIHRoaXMuX2Zvcm1FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgKGV2dCkgPT4ge1xyXG4gICAgICBldnQucHJldmVudERlZmF1bHQoKTtcclxuXHJcbiAgICAgIHRoaXMuX2RhdGEgPSB0aGlzLl9nZXRJbnB1dFZhbHVlcygpO1xyXG5cclxuICAgICAgdGhpcy5fc3VibWl0RnVuY3Rpb24odGhpcy5fZGF0YSk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGNsb3NlKCkge1xyXG4gICAgdGhpcy5fZm9ybUVsZW1lbnQucmVzZXQoKTtcclxuICAgIHN1cGVyLmNsb3NlKCk7XHJcbiAgfVxyXG5cclxuICByZW5kZXJTYXZpbmcoaXNTYXZpbmcpIHtcclxuICAgIGlmIChpc1NhdmluZykge1xyXG4gICAgICB0aGlzLl9zdWJtaXRCdXR0b24udGV4dENvbnRlbnQgPSBcIlNhbHZhbmRvLi4uXCI7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLl9zdWJtaXRCdXR0b24udGV4dENvbnRlbnQgPSB0aGlzLl9idXR0b25UZXh0O1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXBcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBXaXRoQ29uZmlybWF0aW9uIGV4dGVuZHMgUG9wdXAge1xuICBjb25zdHJ1Y3Rvcihjb25maWcpIHtcbiAgICBzdXBlcihjb25maWcpO1xuXG4gICAgdGhpcy5fY29uZmlybWF0aW9uQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcbiAgICAgIGNvbmZpZy5jb25maXJtYXRpb25CdXR0b25TZWxlY3RvclxuICAgICk7XG4gICAgdGhpcy5fYnV0dG9uVGV4dCA9IGNvbmZpZy5idXR0b25UZXh0O1xuICB9XG5cbiAgcmVuZGVyRGVsZXRpbmcoaXNEZWxldGluZykge1xuICAgIGlmIChpc0RlbGV0aW5nKSB7XG4gICAgICB0aGlzLl9jb25maXJtYXRpb25CdXR0b24udGV4dENvbnRlbnQgPSBcIkRlbGV0YW5kby4uLlwiO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9jb25maXJtYXRpb25CdXR0b24udGV4dENvbnRlbnQgPSB0aGlzLl9idXR0b25UZXh0O1xuICAgIH1cbiAgfVxuXG4gIGlzRGVsZXRlKGNhbGxCYWNrKSB7XG4gICAgdGhpcy5fY29uZmlybWF0aW9uQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICBjYWxsQmFjaygpO1xuICAgIH0pO1xuICB9XG59XG4iLCJjbGFzcyBTZWN0aW9uIHtcclxuICBjb25zdHJ1Y3Rvcih7IGl0ZW1zLCByZW5kZXJlciB9LCBjb250YWluZXJTZWxlY3Rvcikge1xyXG4gICAgdGhpcy5faXRlbXMgPSBpdGVtcztcclxuICAgIHRoaXMuX3JlbmRlcmVyID0gcmVuZGVyZXI7XHJcbiAgICB0aGlzLl9jb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGNvbnRhaW5lclNlbGVjdG9yKTtcclxuICB9XHJcblxyXG4gIGFkZEl0ZW0oZWxlbWVudCkge1xyXG4gICAgdGhpcy5fY29udGFpbmVyLnByZXBlbmQoZWxlbWVudCk7XHJcbiAgfVxyXG5cclxuICBnZXRJdGVtcygpIHtcclxuICAgIHJldHVybiB0aGlzLl9pdGVtcztcclxuICB9XHJcblxyXG4gIHNldEl0ZW1zKG5ld0l0ZW1zKSB7XHJcbiAgICB0aGlzLl9pdGVtcyA9IG5ld0l0ZW1zO1xyXG4gIH1cclxuXHJcbiAgY2xlYXIoKSB7XHJcbiAgICB0aGlzLl9jb250YWluZXIuaW5uZXJIVE1MID0gXCJcIjtcclxuICB9XHJcblxyXG4gIGl0ZW1SZW5kZXJlcigpIHtcclxuICAgIHRoaXMuX2l0ZW1zLmZvckVhY2goKGl0ZW0pID0+IHtcclxuICAgICAgdGhpcy5fcmVuZGVyZXIoaXRlbSk7XHJcbiAgICB9KTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IFNlY3Rpb247XHJcbiIsImNsYXNzIFVzZXJJbmZvIHtcclxuICBjb25zdHJ1Y3Rvcih7IHBlcnNvblNlbGVjdG9yLCBhYm91dFNlbGVjdG9yIH0pIHtcclxuICAgIHRoaXMuX25hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHBlcnNvblNlbGVjdG9yKTtcclxuICAgIHRoaXMuX2Fib3V0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihhYm91dFNlbGVjdG9yKTtcclxuICB9XHJcblxyXG4gIGdldFVzZXJJbmZvKCkge1xyXG4gICAgdGhpcy5fdXNlckluZm8gPSB7fTtcclxuXHJcbiAgICB0aGlzLl91c2VySW5mb1tcIm5hbWVcIl0gPSB0aGlzLl9uYW1lLnRleHRDb250ZW50O1xyXG4gICAgdGhpcy5fdXNlckluZm9bXCJhYm91dFwiXSA9IHRoaXMuX2Fib3V0LnRleHRDb250ZW50O1xyXG5cclxuICAgIHJldHVybiB0aGlzLl91c2VySW5mbztcclxuICB9XHJcblxyXG4gIHNldFVzZXJJbmZvKHsgbmFtZSwgYWJvdXQgfSkge1xyXG4gICAgdGhpcy5fbmFtZS50ZXh0Q29udGVudCA9IG5hbWU7XHJcbiAgICB0aGlzLl9hYm91dC50ZXh0Q29udGVudCA9IGFib3V0O1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgVXNlckluZm87XHJcbiIsImltcG9ydCBcIi4vcGFnZXMvaW5kZXguY3NzXCI7XG5cbmltcG9ydCBDYXJkIGZyb20gXCIuL3NjcmlwdHMvQ2FyZC5qc1wiO1xuXG5pbXBvcnQgRm9ybVZhbGlkYXRvciBmcm9tIFwiLi9zY3JpcHRzL0Zvcm1WYWxpZGF0b3IuanNcIjtcblxuaW1wb3J0IFBvcHVwV2l0aEltYWdlIGZyb20gXCIuL3NjcmlwdHMvUG9wdXBXaXRoSW1hZ2UuanNcIjtcblxuaW1wb3J0IFBvcHVwV2l0aEZvcm0gZnJvbSBcIi4vc2NyaXB0cy9Qb3B1cFdpdGhGb3JtLmpzXCI7XG5cbmltcG9ydCBQb3B1cFdpdGhDb25maXJtYXRpb24gZnJvbSBcIi4vc2NyaXB0cy9Qb3B1cFdpdGhDb25maXJtYXRpb24uanNcIjtcblxuaW1wb3J0IFNlY3Rpb24gZnJvbSBcIi4vc2NyaXB0cy9TZWN0aW9uLmpzXCI7XG5cbmltcG9ydCBVc2VySW5mbyBmcm9tIFwiLi9zY3JpcHRzL1VzZXJJbmZvLmpzXCI7XG5cbmltcG9ydCBBcGkgZnJvbSBcIi4vc2NyaXB0cy9BcGkuanNcIjtcblxuaW1wb3J0IHtcbiAgcHJvZmlsZUVkaXRCdXR0b24sXG4gIGdhbGxlcnlBZGRCdXR0b24sXG4gIHBpY3R1cmVFZGl0QnV0dG9uLFxuICBjb25maWdDYXJkLFxuICBjb25maWdGb3JtVmFsaWRhdG9yLFxuICBjb25maWdQb3B1cHMsXG4gIHVzZXJJbmZvQ29uZmlnLFxuICBpbnB1dE5hbWUsXG4gIGlucHV0QWJvdXQsXG4gIHByb2ZpbGVQaWN0dXJlLFxuICBhcGlDb25maWcsXG4gIHVzZXJJZCxcbn0gZnJvbSBcIi4vc2NyaXB0cy91dGlscy5qc1wiO1xuXG5jb25zdCBhcGlUcmlwbGVUZW4gPSBuZXcgQXBpKGFwaUNvbmZpZyk7XG5cbmNvbnN0IHZpZXdlclBvcHVwID0gbmV3IFBvcHVwV2l0aEltYWdlKGNvbmZpZ1BvcHVwcy5wb3B1cFZpZXdlcik7XG5cbnZpZXdlclBvcHVwLnNldEV2ZW50TGlzdGVuZXJzKCk7XG5cbmxldCBjYXJkc1NlY3Rpb247XG5cbmNvbnN0IGRlbGV0ZUNhcmRDb25maXJtYXRpb25Qb3B1cCA9IG5ldyBQb3B1cFdpdGhDb25maXJtYXRpb24oXG4gIGNvbmZpZ1BvcHVwcy5wb3B1cERlbGV0ZUltYWdlXG4pO1xuXG5kZWxldGVDYXJkQ29uZmlybWF0aW9uUG9wdXAuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcblxuZnVuY3Rpb24gZGVsZXRlQ2FyZChjYXJkSWQpIHtcbiAgY29uc29sZS5sb2coYGRlbGV0b3UgbyBjYXJkOiAke2NhcmRJZH1gKTtcbiAgZGVsZXRlQ2FyZENvbmZpcm1hdGlvblBvcHVwLnJlbmRlckRlbGV0aW5nKHRydWUpO1xuICBhcGlUcmlwbGVUZW5cbiAgICAuZGVsZXRlQ2FyZChjYXJkSWQsIFwiL2NhcmRzXCIpXG4gICAgLnRoZW4oKHJlcykgPT4ge1xuICAgICAgaWYgKHJlcy5vaykge1xuICAgICAgICByZXR1cm4gcmVzLmpzb24oKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChgRXJyb3I6ICR7cmVzLnN0YXR1c31gKTtcbiAgICB9KVxuICAgIC50aGVuKChkYXRhKSA9PiB7XG4gICAgICBjb25zb2xlLmxvZyhgZGVsZXRvdSBvIGNhcnTDo286ICR7ZGF0YX1gKTtcbiAgICB9KVxuICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICBjb25zb2xlLmxvZyhlcnIpO1xuICAgIH0pXG4gICAgLmZpbmFsbHkoKCkgPT4ge1xuICAgICAgZGVsZXRlQ2FyZENvbmZpcm1hdGlvblBvcHVwLnJlbmRlckRlbGV0aW5nKGZhbHNlKTtcbiAgICAgIGRlbGV0ZUNhcmRDb25maXJtYXRpb25Qb3B1cC5jbG9zZSgpO1xuICAgIH0pO1xufVxuXG5mdW5jdGlvbiBoZW5kbGVPcGVuRGVsZXRlUG9wdXAoY2FsbCkge1xuICBkZWxldGVDYXJkQ29uZmlybWF0aW9uUG9wdXAub3BlbigpO1xuICBkZWxldGVDYXJkQ29uZmlybWF0aW9uUG9wdXAuaXNEZWxldGUoY2FsbCk7XG59XG5cbmFwaVRyaXBsZVRlblxuICAuZ2V0SW5pdGlhbENhcmRzKFwiL2NhcmRzXCIpXG4gIC50aGVuKChyZXMpID0+IHtcbiAgICBpZiAocmVzLm9rKSB7XG4gICAgICByZXR1cm4gcmVzLmpzb24oKTtcbiAgICB9XG4gICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGBFcnJvcjogJHtyZXMuc3RhdHVzfWApO1xuICB9KVxuICAudGhlbigoY2FyZHMpID0+IHtcbiAgICBjYXJkc1NlY3Rpb24gPSBuZXcgU2VjdGlvbihcbiAgICAgIHtcbiAgICAgICAgaXRlbXM6IGNhcmRzLFxuICAgICAgICByZW5kZXJlcjogKGl0ZW0pID0+IHtcbiAgICAgICAgICBjb25zdCBuZXdDYXJkID0gbmV3IENhcmQoaXRlbSwge1xuICAgICAgICAgICAgY29uZmlnOiBjb25maWdDYXJkLFxuICAgICAgICAgICAgcmVuZGVyZXI6IChpdGVtKSA9PiB7XG4gICAgICAgICAgICAgIHZpZXdlclBvcHVwLm9wZW4oaXRlbSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgbGlrZXI6IChpZCwgcGF0aCwgZXhlY3V0b3IpID0+IHtcbiAgICAgICAgICAgICAgYXBpVHJpcGxlVGVuXG4gICAgICAgICAgICAgICAgLmxpa2UoaWQsIHBhdGgpXG4gICAgICAgICAgICAgICAgLnRoZW4oKHJlcykgPT4ge1xuICAgICAgICAgICAgICAgICAgaWYgKHJlcy5vaykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzLmpzb24oKTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChgRXJyb3I6ICR7cmVzLnN0YXR1c31gKTtcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC50aGVuKChyZXMpID0+IHtcbiAgICAgICAgICAgICAgICAgIGV4ZWN1dG9yKHJlcyk7XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBkaXNsaWtlcjogKGlkLCBwYXRoLCBleGVjdXRvcikgPT4ge1xuICAgICAgICAgICAgICBhcGlUcmlwbGVUZW5cbiAgICAgICAgICAgICAgICAuZGlzbGlrZShpZCwgcGF0aClcbiAgICAgICAgICAgICAgICAudGhlbigocmVzKSA9PiB7XG4gICAgICAgICAgICAgICAgICBpZiAocmVzLm9rKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXMuanNvbigpO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGBFcnJvcjogJHtyZXMuc3RhdHVzfWApO1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLnRoZW4oKHJlcykgPT4ge1xuICAgICAgICAgICAgICAgICAgZXhlY3V0b3IocmVzKTtcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGV4Y2x1ZGVyOiBkZWxldGVDYXJkLFxuICAgICAgICAgICAgZGVsZXRlUG9wdXA6IChiYWNrKSA9PiB7XG4gICAgICAgICAgICAgIGhlbmRsZU9wZW5EZWxldGVQb3B1cChiYWNrKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB1c2VySWQsXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgY29uc3QgY2FyZEVsZW1lbnQgPSBuZXdDYXJkLmdlbmVyYXRlQ2FyZCgpO1xuICAgICAgICAgIGNhcmRzU2VjdGlvbi5hZGRJdGVtKGNhcmRFbGVtZW50KTtcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgICBjb25maWdDYXJkLmNhcmRzQ29udGFpbmVyU2VsZWN0b3JcbiAgICApO1xuICAgIGNhcmRzU2VjdGlvbi5pdGVtUmVuZGVyZXIoKTtcbiAgfSlcbiAgLmNhdGNoKChlcnIpID0+IHtcbiAgICBjb25zb2xlLmxvZyhlcnIpO1xuICB9KTtcblxuY29uc3QgcG9wdXBHYWxlcnkgPSBuZXcgUG9wdXBXaXRoRm9ybShjb25maWdQb3B1cHMucG9wdXBHYWxlcnksIHtcbiAgc3VibWl0RnVuY3Rpb246IChpdGVtKSA9PiB7XG4gICAgcG9wdXBHYWxlcnkucmVuZGVyU2F2aW5nKHRydWUpO1xuICAgIGFwaVRyaXBsZVRlblxuICAgICAgLmFkZE5ld0NhcmQoaXRlbSwgXCIvY2FyZHNcIilcbiAgICAgIC50aGVuKChyZXMpID0+IHtcbiAgICAgICAgaWYgKHJlcy5vaykge1xuICAgICAgICAgIHJldHVybiByZXMuanNvbigpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChgRXJyb3I6ICR7cmVzLnN0YXR1c31gKTtcbiAgICAgIH0pXG4gICAgICAudGhlbigoZGF0YSkgPT4ge1xuICAgICAgICBjb25zdCBuZXdDYXJkID0gbmV3IENhcmQoZGF0YSwge1xuICAgICAgICAgIGNvbmZpZzogY29uZmlnQ2FyZCxcbiAgICAgICAgICByZW5kZXJlcjogKGl0ZW0pID0+IHtcbiAgICAgICAgICAgIHZpZXdlclBvcHVwLm9wZW4oaXRlbSk7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBsaWtlcjogKGlkLCBwYXRoLCBleGVjdXRvcikgPT4ge1xuICAgICAgICAgICAgYXBpVHJpcGxlVGVuXG4gICAgICAgICAgICAgIC5saWtlKGlkLCBwYXRoKVxuICAgICAgICAgICAgICAudGhlbigocmVzKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHJlcy5vaykge1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlcy5qc29uKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChgRXJyb3I6ICR7cmVzLnN0YXR1c31gKTtcbiAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgLnRoZW4oKHJlcykgPT4ge1xuICAgICAgICAgICAgICAgIGV4ZWN1dG9yKHJlcyk7XG4gICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKTtcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBkaXNsaWtlcjogKGlkLCBwYXRoLCBleGVjdXRvcikgPT4ge1xuICAgICAgICAgICAgYXBpVHJpcGxlVGVuXG4gICAgICAgICAgICAgIC5kaXNsaWtlKGlkLCBwYXRoKVxuICAgICAgICAgICAgICAudGhlbigocmVzKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHJlcy5vaykge1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlcy5qc29uKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChgRXJyb3I6ICR7cmVzLnN0YXR1c31gKTtcbiAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgLnRoZW4oKHJlcykgPT4ge1xuICAgICAgICAgICAgICAgIGV4ZWN1dG9yKHJlcyk7XG4gICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKTtcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBleGNsdWRlcjogZGVsZXRlQ2FyZCxcbiAgICAgICAgICBkZWxldGVQb3B1cDogKGJhY2spID0+IHtcbiAgICAgICAgICAgIGhlbmRsZU9wZW5EZWxldGVQb3B1cChiYWNrKTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIHVzZXJJZCxcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IGNhcmRFbGVtZW50ID0gbmV3Q2FyZC5nZW5lcmF0ZUNhcmQoKTtcbiAgICAgICAgY2FyZHNTZWN0aW9uLmFkZEl0ZW0oY2FyZEVsZW1lbnQpO1xuICAgICAgfSlcbiAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgIGNvbnNvbGUubG9nKGVycik7XG4gICAgICB9KVxuICAgICAgLmZpbmFsbHkoKCkgPT4ge1xuICAgICAgICBwb3B1cEdhbGVyeS5yZW5kZXJTYXZpbmcoZmFsc2UpO1xuICAgICAgICBwb3B1cEdhbGVyeS5jbG9zZSgpO1xuICAgICAgfSk7XG4gIH0sXG59KTtcblxucG9wdXBHYWxlcnkuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcblxuZ2FsbGVyeUFkZEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICBwb3B1cEdhbGVyeS5vcGVuKCk7XG59KTtcblxuY29uc3QgdXNlckluZm8gPSBuZXcgVXNlckluZm8odXNlckluZm9Db25maWcpO1xuXG5hcGlUcmlwbGVUZW5cbiAgLmdldFVzZXJJbmZvKFwiL3VzZXJzL21lXCIpXG4gIC50aGVuKChyZXMpID0+IHtcbiAgICBpZiAocmVzLm9rKSB7XG4gICAgICByZXR1cm4gcmVzLmpzb24oKTtcbiAgICB9XG4gICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGBFcnJvcjogJHtyZXMuc3RhdHVzfWApO1xuICB9KVxuICAudGhlbigoZGF0YSkgPT4ge1xuICAgIHVzZXJJbmZvLnNldFVzZXJJbmZvKGRhdGEpO1xuICAgIHByb2ZpbGVQaWN0dXJlLnNldEF0dHJpYnV0ZShcInNyY1wiLCBgJHtkYXRhLmF2YXRhcn1gKTtcbiAgfSlcbiAgLmNhdGNoKChlcnIpID0+IHtcbiAgICBjb25zb2xlLmxvZyhlcnIpO1xuICB9KTtcblxuY29uc3QgcG9wdXBQcm9maWxlID0gbmV3IFBvcHVwV2l0aEZvcm0oY29uZmlnUG9wdXBzLnBvcHVwUHJvZmlsZSwge1xuICBzdWJtaXRGdW5jdGlvbjogKGl0ZW0pID0+IHtcbiAgICBwb3B1cFByb2ZpbGUucmVuZGVyU2F2aW5nKHRydWUpO1xuICAgIGFwaVRyaXBsZVRlblxuICAgICAgLnVwZGF0ZVVzZXJJbmZvKGl0ZW0sIFwiL3VzZXJzL21lXCIpXG4gICAgICAudGhlbigocmVzKSA9PiB7XG4gICAgICAgIGlmIChyZXMub2spIHtcbiAgICAgICAgICByZXR1cm4gcmVzLmpzb24oKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoYEVycm9yOiAke3Jlcy5zdGF0dXN9YCk7XG4gICAgICB9KVxuICAgICAgLnRoZW4oKGRhdGEpID0+IHtcbiAgICAgICAgdXNlckluZm8uc2V0VXNlckluZm8oZGF0YSk7XG4gICAgICB9KVxuICAgICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgY29uc29sZS5sb2coZXJyKTtcbiAgICAgIH0pXG4gICAgICAuZmluYWxseSgoKSA9PiB7XG4gICAgICAgIHBvcHVwUHJvZmlsZS5jbG9zZSgpO1xuICAgICAgICBwb3B1cFByb2ZpbGUucmVuZGVyU2F2aW5nKGZhbHNlKTtcbiAgICAgIH0pO1xuICB9LFxufSk7XG5cbnBvcHVwUHJvZmlsZS5zZXRFdmVudExpc3RlbmVycygpO1xuXG5wcm9maWxlRWRpdEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICBjb25zdCBkYXRhID0gdXNlckluZm8uZ2V0VXNlckluZm8oKTtcblxuICBpbnB1dE5hbWUudmFsdWUgPSBkYXRhLm5hbWU7XG4gIGlucHV0QWJvdXQudmFsdWUgPSBkYXRhLmFib3V0O1xuXG4gIHBvcHVwUHJvZmlsZS5vcGVuKCk7XG59KTtcblxuY29uc3QgcG9wdXBQaWN0dXJlID0gbmV3IFBvcHVwV2l0aEZvcm0oY29uZmlnUG9wdXBzLnBvcHVwUGljdHVyZSwge1xuICBzdWJtaXRGdW5jdGlvbjogKGl0ZW0pID0+IHtcbiAgICBwb3B1cFBpY3R1cmUucmVuZGVyU2F2aW5nKHRydWUpO1xuICAgIGFwaVRyaXBsZVRlblxuICAgICAgLnVwZGF0ZVVzZXJBdmF0YXIoaXRlbSwgXCIvdXNlcnMvbWUvYXZhdGFyXCIpXG4gICAgICAudGhlbigocmVzKSA9PiB7XG4gICAgICAgIGlmIChyZXMub2spIHtcbiAgICAgICAgICByZXR1cm4gcmVzLmpzb24oKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoYEVycm9yOiAke3Jlcy5zdGF0dXN9YCk7XG4gICAgICB9KVxuICAgICAgLnRoZW4oKGRhdGEpID0+IHtcbiAgICAgICAgcHJvZmlsZVBpY3R1cmUuc2V0QXR0cmlidXRlKFwic3JjXCIsIGAke2RhdGEuYXZhdGFyfWApO1xuICAgICAgfSlcbiAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgIGNvbnNvbGUubG9nKGVycik7XG4gICAgICB9KVxuICAgICAgLmZpbmFsbHkoKCkgPT4ge1xuICAgICAgICBwb3B1cFBpY3R1cmUuY2xvc2UoKTtcbiAgICAgICAgcG9wdXBQaWN0dXJlLnJlbmRlclNhdmluZyhmYWxzZSk7XG4gICAgICB9KTtcbiAgfSxcbn0pO1xuXG5wb3B1cFBpY3R1cmUuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcblxucGljdHVyZUVkaXRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgcG9wdXBQaWN0dXJlLm9wZW4oKTtcbn0pO1xuXG5uZXcgRm9ybVZhbGlkYXRvcihcbiAgXCIuZm9ybV9wcm9maWxlXCIsXG4gIGNvbmZpZ0Zvcm1WYWxpZGF0b3IsXG4gIFwiLmVkaXRvcl9fcHJvZmlsZS1jbG9zZS1idXR0b25cIlxuKS5lbmFibGVWYWxpZGF0aW9uKCk7XG5cbm5ldyBGb3JtVmFsaWRhdG9yKFxuICBcIi5mb3JtX2dhbGxlcnlcIixcbiAgY29uZmlnRm9ybVZhbGlkYXRvcixcbiAgXCIuZWRpdG9yX19nYWxsZXJ5LWNsb3NlLWJ1dHRvblwiXG4pLmVuYWJsZVZhbGlkYXRpb24oKTtcblxubmV3IEZvcm1WYWxpZGF0b3IoXG4gIFwiLmZvcm1fcGljdHVyZVwiLFxuICBjb25maWdGb3JtVmFsaWRhdG9yLFxuICBcIi5lZGl0b3JfX3BpY3R1cmUtY2xvc2UtYnV0dG9uXCJcbikuZW5hYmxlVmFsaWRhdGlvbigpO1xuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgQXBpIHtcbiAgY29uc3RydWN0b3IoeyBiYXNlVVJMLCB1c2VyQXV0aG9yaXphdGlvbiB9KSB7XG4gICAgdGhpcy5fYmFzZVVSTCA9IGJhc2VVUkw7XG4gICAgdGhpcy5fdXNlckF1dGhvcml6YXRpb24gPSB1c2VyQXV0aG9yaXphdGlvbjtcbiAgfVxuXG4gIGdldEluaXRpYWxDYXJkcyhwYXRoKSB7XG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVUkx9JHtwYXRofWAsIHtcbiAgICAgIG1ldGhvZDogXCJHRVRcIixcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgYXV0aG9yaXphdGlvbjogdGhpcy5fdXNlckF1dGhvcml6YXRpb24sXG4gICAgICB9LFxuICAgIH0pO1xuICB9XG5cbiAgYWRkTmV3Q2FyZCh7IG5hbWU6IGNhcmROYW1lLCBsaW5rOiBjYXJkTGluayB9LCBwYXRoKSB7XG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVUkx9JHtwYXRofWAsIHtcbiAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgIGF1dGhvcml6YXRpb246IHRoaXMuX3VzZXJBdXRob3JpemF0aW9uLFxuICAgICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgICAgIH0sXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgIG5hbWU6IGAke2NhcmROYW1lfWAsXG4gICAgICAgIGxpbms6IGAke2NhcmRMaW5rfWAsXG4gICAgICB9KSxcbiAgICB9KTtcbiAgfVxuXG4gIGRlbGV0ZUNhcmQoY2FyZElkLCBwYXRoKSB7XG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVUkx9JHtwYXRofS8ke2NhcmRJZH1gLCB7XG4gICAgICBtZXRob2Q6IFwiREVMRVRFXCIsXG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgIGF1dGhvcml6YXRpb246IHRoaXMuX3VzZXJBdXRob3JpemF0aW9uLFxuICAgICAgfSxcbiAgICB9KTtcbiAgfVxuXG4gIGdldFVzZXJJbmZvKHBhdGgpIHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVSTH0ke3BhdGh9YCwge1xuICAgICAgbWV0aG9kOiBcIkdFVFwiLFxuICAgICAgaGVhZGVyczoge1xuICAgICAgICBhdXRob3JpemF0aW9uOiB0aGlzLl91c2VyQXV0aG9yaXphdGlvbixcbiAgICAgIH0sXG4gICAgfSk7XG4gIH1cblxuICB1cGRhdGVVc2VySW5mbyh7IHBlcnNvbjogdXNlck5hbWUsIGFib3V0OiB1c2VyQWJvdXQgfSwgcGF0aCkge1xuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVVJMfSR7cGF0aH1gLCB7XG4gICAgICBtZXRob2Q6IFwiUEFUQ0hcIixcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgYXV0aG9yaXphdGlvbjogdGhpcy5fdXNlckF1dGhvcml6YXRpb24sXG4gICAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICAgICAgfSxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgbmFtZTogYCR7dXNlck5hbWV9YCxcbiAgICAgICAgYWJvdXQ6IGAke3VzZXJBYm91dH1gLFxuICAgICAgfSksXG4gICAgfSk7XG4gIH1cblxuICB1cGRhdGVVc2VyQXZhdGFyKHsgcGljdHVyZSB9LCBwYXRoKSB7XG4gICAgY29uc29sZS5sb2cocGljdHVyZSk7XG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVUkx9JHtwYXRofWAsIHtcbiAgICAgIG1ldGhvZDogXCJQQVRDSFwiLFxuICAgICAgaGVhZGVyczoge1xuICAgICAgICBhdXRob3JpemF0aW9uOiB0aGlzLl91c2VyQXV0aG9yaXphdGlvbixcbiAgICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gICAgICB9LFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyBhdmF0YXI6IGAke3BpY3R1cmV9YCB9KSxcbiAgICB9KTtcbiAgfVxuXG4gIGxpa2UoY2FyZElkLCBwYXRoKSB7XG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVUkx9JHtwYXRofS8ke2NhcmRJZH1gLCB7XG4gICAgICBtZXRob2Q6IFwiUFVUXCIsXG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgIGF1dGhvcml6YXRpb246IHRoaXMuX3VzZXJBdXRob3JpemF0aW9uLFxuICAgICAgfSxcbiAgICB9KTtcbiAgfVxuXG4gIGRpc2xpa2UoY2FyZElkLCBwYXRoKSB7XG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVUkx9JHtwYXRofS8ke2NhcmRJZH1gLCB7XG4gICAgICBtZXRob2Q6IFwiREVMRVRFXCIsXG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgIGF1dGhvcml6YXRpb246IHRoaXMuX3VzZXJBdXRob3JpemF0aW9uLFxuICAgICAgfSxcbiAgICB9KTtcbiAgfVxufVxuIiwiY29uc3QgcHJvZmlsZUVkaXRCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2VkaXQtYnV0dG9uXCIpO1xuXG5jb25zdCBnYWxsZXJ5QWRkQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19hZGQtYnV0dG9uXCIpO1xuXG5jb25zdCBwaWN0dXJlRWRpdEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXG4gIFwiLnByb2ZpbGVfX3BpY3R1cmUtZWRpdC1idXR0b25cIlxuKTtcblxuY29uc3QgaW5wdXROYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5mb3JtX19pbnB1dF9uYW1lXCIpO1xuY29uc3QgaW5wdXRBYm91dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZm9ybV9faW5wdXRfYWJvdXRcIik7XG5cbmNvbnN0IHByb2ZpbGVQaWN0dXJlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19waWN0dXJlXCIpO1xuXG5jb25zdCBpbml0aWFsQ2FyZHMgPSBbXG4gIHtcbiAgICBuYW1lOiBcIlBhcnF1ZSBOYWNpb25hbCBkZSBaaW9uXCIsXG4gICAgbGluazogXCJodHRwczovL2ltYWdlcy51bnNwbGFzaC5jb20vcGhvdG8tMTQ0MzYzMjg2NDg5Ny0xNDk3M2ZhMDA2Y2Y/cT04MCZ3PTI2NzAmYXV0bz1mb3JtYXQmZml0PWNyb3AmaXhsaWI9cmItNC4wLjMmaXhpZD1NM3d4TWpBM2ZEQjhNSHh3YUc5MGJ5MXdZV2RsZkh4OGZHVnVmREI4Zkh4OGZBJTNEJTNEXCIsXG4gIH0sXG4gIHtcbiAgICBuYW1lOiBcIkxhZ28gVGFob2VcIixcbiAgICBsaW5rOiBcImh0dHBzOi8vaW1hZ2VzLnVuc3BsYXNoLmNvbS9waG90by0xNTM5MjA5NDQ2NDU1LWJiYTAxODY5OGQxYj9xPTgwJnc9MjY3MCZhdXRvPWZvcm1hdCZmaXQ9Y3JvcCZpeGxpYj1yYi00LjAuMyZpeGlkPU0zd3hNakEzZkRCOE1IeHdhRzkwYnkxd1lXZGxmSHg4ZkdWdWZEQjhmSHg4ZkElM0QlM0RcIixcbiAgfSxcbiAge1xuICAgIG5hbWU6IFwiSG9yc2VzaG9lIEJlbmRcIixcbiAgICBsaW5rOiBcImh0dHBzOi8vaW1hZ2VzLnVuc3BsYXNoLmNvbS9waG90by0xNTQ4ODE1MDU2LWRlNGRhYjliZmQ5ZD9xPTgwJnc9MjU0NCZhdXRvPWZvcm1hdCZmaXQ9Y3JvcCZpeGxpYj1yYi00LjAuMyZpeGlkPU0zd3hNakEzZkRCOE1IeHdhRzkwYnkxd1lXZGxmSHg4ZkdWdWZEQjhmSHg4ZkElM0QlM0RcIixcbiAgfSxcbiAge1xuICAgIG5hbWU6IFwiRXNjYWRhcmlhIGRlIEhhaWt1XCIsXG4gICAgbGluazogXCJodHRwczovL2ltYWdlcy51bnNwbGFzaC5jb20vcGhvdG8tMTUxNzg5NjUwNjg3OS0yM2UxMzdlYTQ1ZGY/cT04MCZ3PTI1MzUmYXV0bz1mb3JtYXQmZml0PWNyb3AmaXhsaWI9cmItNC4wLjMmaXhpZD1NM3d4TWpBM2ZEQjhNSHh3YUc5MGJ5MXdZV2RsZkh4OGZHVnVmREI4Zkh4OGZBJTNEJTNEXCIsXG4gIH0sXG4gIHtcbiAgICBuYW1lOiBcIk1vbnRhbmhhcyBHcmVhdCBTbW9reVwiLFxuICAgIGxpbms6IFwiaHR0cHM6Ly9pbWFnZXMudW5zcGxhc2guY29tL3Bob3RvLTE1MTYxMTcxNzI4NzgtZmQyYzQxZjRhNzU5P3E9ODAmdz0yNjcwJmF1dG89Zm9ybWF0JmZpdD1jcm9wJml4bGliPXJiLTQuMC4zJml4aWQ9TTN3eE1qQTNmREI4TUh4d2FHOTBieTF3WVdkbGZIeDhmR1Z1ZkRCOGZIeDhmQSUzRCUzRFwiLFxuICB9LFxuICB7XG4gICAgbmFtZTogXCJJbGhhIERyeSBUb3J0dWdhc1wiLFxuICAgIGxpbms6IFwiaHR0cHM6Ly9pbWFnZXMudW5zcGxhc2guY29tL3Bob3RvLTE2MTczNzE2MDMzOTctYzA5MzYxMmM4OGE1P3E9ODAmdz0yNTMxJmF1dG89Zm9ybWF0JmZpdD1jcm9wJml4bGliPXJiLTQuMC4zJml4aWQ9TTN3eE1qQTNmREI4TUh4d2FHOTBieTF3WVdkbGZIeDhmR1Z1ZkRCOGZIeDhmQSUzRCUzRFwiLFxuICB9LFxuXTtcblxuY29uc3QgdXNlcklkID0gXCI1N2FkM2VjOTc3NzQ1NDg2ZDhjM2U1ODFcIjtcblxuY29uc3QgYXBpQ29uZmlnID0ge1xuICBiYXNlVVJMOiBcImh0dHBzOi8vYXJvdW5kLm5vbW9yZXBhcnRpZXMuY28vdjEvd2ViLXB0YnItY29ob3J0LTExXCIsXG4gIHVzZXJBdXRob3JpemF0aW9uOiBcIjNmZGE4ZDI4LTE3NGQtNDY0Ny05YjRjLTlhY2I5ZWZmZDFiY1wiLFxufTtcblxuY29uc3QgY29uZmlnQ2FyZCA9IHtcbiAgY2FyZHNDb250YWluZXJTZWxlY3RvcjogXCIuZ2FsbGVyeV9fY2FyZHNcIixcbiAgdGVtcGxhdGVTZWxlY3RvcjogXCIjdGVtcGxhdGUtY2FyZHNcIixcbiAgY2FyZFNlbGVjdG9yOiBcIi5nYWxsZXJ5X19jYXJkXCIsXG4gIGNhcmROYW1lU2VsZWN0b3I6IFwiLmdhbGxlcnlfX2NhcmQtbmFtZVwiLFxuICBjYXJkSW1hZ2VTZWxlY3RvcjogXCIuZ2FsbGVyeV9fY2FyZC1pbWFnZVwiLFxuICBsaWtlQnV0dG9uU2VsZWN0b3I6IFwiLmdhbGxlcnlfX2NhcmQtbGlrZS1idXR0b25cIixcbiAgbGlrZUJ1dHRvbkFjdGl2ZTogXCJnYWxsZXJ5X19jYXJkLWxpa2UtYnV0dG9uLWFjdGl2ZVwiLFxuICBkZWxldGVCdXR0b25TZWxlY3RvcjogXCIuZ2FsbGVyeV9fY2FyZC1kZWxldGUtYnV0dG9uXCIsXG4gIGRlbGV0ZUJ1dHRvblZpc2libGU6IFwiZ2FsbGVyeV9fY2FyZC1kZWxldGUtYnV0dG9uLXZpc2libGVcIixcbiAgbGlrZUNvdW50ZXJTZWxlY3RvcjogXCIuZ2FsbGVyeV9fY2FyZC1saWtlLWNvdW50ZXJcIixcbn07XG5cbmNvbnN0IGNvbmZpZ0Zvcm1WYWxpZGF0b3IgPSB7XG4gIGlucHV0U2VsZWN0b3I6IFwiLmZvcm1fX2lucHV0XCIsXG4gIHN1Ym1pdEJ1dHRvblNlbGVjdG9yOiBcIi5mb3JtX19zdWJtaXQtYnV0dG9uXCIsXG4gIGluYWN0aXZlQnV0dG9uQ2xhc3M6IFwiZm9ybV9fc3VibWl0LWJ1dHRvbi1pbmFjdGl2ZVwiLFxuICBpbnB1dEVycm9yQ2xhc3M6IFwiZm9ybV9faW5wdXRfdHlwZS1lcnJvclwiLFxuICBlcnJvckNsYXNzOiBcImZvcm1fX2Vycm9yX3Zpc2libGVcIixcbn07XG5cbmNvbnN0IGNvbmZpZ1BvcHVwcyA9IHtcbiAgcG9wdXBQcm9maWxlOiB7XG4gICAgcG9wdXBTZWxlY3RvcjogXCIuZWRpdG9yX3Byb2ZpbGVcIixcbiAgICBvcGVuQ2xhc3M6IFwiZWRpdG9yX3Zpc2libGVcIixcbiAgICBjbG9zZUJ1dHRvblNlbGVjdG9yOiBcIi5lZGl0b3JfX3Byb2ZpbGUtY2xvc2UtYnV0dG9uXCIsXG4gICAgZm9ybUVsZW1lbnQ6IFwiLmZvcm1fcHJvZmlsZVwiLFxuICAgIGlucHV0U2VsZWN0b3I6IFwiLmZvcm1fX2lucHV0XCIsXG4gICAgc3VibWl0QnV0dG9uU2VsZWN0b3I6IFwiLmZvcm1fX3N1Ym1pdC1idXR0b25cIixcbiAgICBidXR0b25UZXh0OiBcIlNhbHZhclwiLFxuICB9LFxuICBwb3B1cEdhbGVyeToge1xuICAgIHBvcHVwU2VsZWN0b3I6IFwiLmVkaXRvcl9nYWxsZXJ5XCIsXG4gICAgb3BlbkNsYXNzOiBcImVkaXRvcl92aXNpYmxlXCIsXG4gICAgY2xvc2VCdXR0b25TZWxlY3RvcjogXCIuZWRpdG9yX19nYWxsZXJ5LWNsb3NlLWJ1dHRvblwiLFxuICAgIGZvcm1FbGVtZW50OiBcIi5mb3JtX2dhbGxlcnlcIixcbiAgICBpbnB1dFNlbGVjdG9yOiBcIi5mb3JtX19pbnB1dFwiLFxuICAgIHN1Ym1pdEJ1dHRvblNlbGVjdG9yOiBcIi5mb3JtX19zdWJtaXQtYnV0dG9uXCIsXG4gICAgYnV0dG9uVGV4dDogXCJDcmlhclwiLFxuICB9LFxuICBwb3B1cFBpY3R1cmU6IHtcbiAgICBwb3B1cFNlbGVjdG9yOiBcIi5lZGl0b3JfcGljdHVyZVwiLFxuICAgIG9wZW5DbGFzczogXCJlZGl0b3JfdmlzaWJsZVwiLFxuICAgIGNsb3NlQnV0dG9uU2VsZWN0b3I6IFwiLmVkaXRvcl9fcGljdHVyZS1jbG9zZS1idXR0b25cIixcbiAgICBmb3JtRWxlbWVudDogXCIuZm9ybV9waWN0dXJlXCIsXG4gICAgaW5wdXRTZWxlY3RvcjogXCIuZm9ybV9faW5wdXRcIixcbiAgICBzdWJtaXRCdXR0b25TZWxlY3RvcjogXCIuZm9ybV9fc3VibWl0LWJ1dHRvblwiLFxuICAgIGJ1dHRvblRleHQ6IFwiU2FsdmFyXCIsXG4gIH0sXG4gIHBvcHVwVmlld2VyOiB7XG4gICAgcG9wdXBTZWxlY3RvcjogXCIudmlld2VyXCIsXG4gICAgb3BlbkNsYXNzOiBcInZpZXdlcl92aXNpYmxlXCIsXG4gICAgY2xvc2VCdXR0b25TZWxlY3RvcjogXCIudmlld2VyX19jbG9zZS1idXR0b25cIixcbiAgICB2aWV3ZXJJbWFnZVNlbGVjdG9yOiBcIi52aWV3ZXJfX2ltYWdlXCIsXG4gICAgdmlld2VyVGl0bGVTZWxlY3RvcjogXCIudmlld2VyX190aXRsZVwiLFxuICB9LFxuICBwb3B1cERlbGV0ZUltYWdlOiB7XG4gICAgcG9wdXBTZWxlY3RvcjogXCIuY29uZmlybWVyX2ltYWdlLWRlbGV0ZVwiLFxuICAgIG9wZW5DbGFzczogXCJjb25maXJtZXJfdmlzaWJsZVwiLFxuICAgIGNsb3NlQnV0dG9uU2VsZWN0b3I6IFwiLmNvbmZpcm1lcl9faW1hZ2UtZGVsZXRlLWNsb3NlLWJ1dHRvblwiLFxuICAgIGNvbmZpcm1hdGlvbkJ1dHRvblNlbGVjdG9yOiBcIi5jb25maXJtZXJfX2NvbmZpcm1hdGlvbi1idXR0b25cIixcbiAgICBidXR0b25UZXh0OiBcIlNpbVwiLFxuICB9LFxufTtcblxuY29uc3QgdXNlckluZm9Db25maWcgPSB7XG4gIHBlcnNvblNlbGVjdG9yOiBcIi5wcm9maWxlX19uYW1lXCIsXG4gIGFib3V0U2VsZWN0b3I6IFwiLnByb2ZpbGVfX2Fib3V0XCIsXG59O1xuXG5leHBvcnQge1xuICBwcm9maWxlRWRpdEJ1dHRvbixcbiAgZ2FsbGVyeUFkZEJ1dHRvbixcbiAgcGljdHVyZUVkaXRCdXR0b24sXG4gIGNvbmZpZ0NhcmQsXG4gIGNvbmZpZ0Zvcm1WYWxpZGF0b3IsXG4gIGNvbmZpZ1BvcHVwcyxcbiAgdXNlckluZm9Db25maWcsXG4gIGlucHV0TmFtZSxcbiAgaW5wdXRBYm91dCxcbiAgcHJvZmlsZVBpY3R1cmUsXG4gIGFwaUNvbmZpZyxcbiAgdXNlcklkLFxufTtcbiJdLCJuYW1lcyI6WyJDYXJkIiwiX3JlZiIsIl9yZWYyIiwibmFtZSIsImxpbmsiLCJsaWtlcyIsIl9pZCIsIm93bmVyIiwiY29uZmlnIiwicmVuZGVyZXIiLCJsaWtlciIsImRpc2xpa2VyIiwiZXhjbHVkZXIiLCJkZWxldGVQb3B1cCIsInVzZXJJZCIsIl9jbGFzc0NhbGxDaGVjayIsInRoaXMiLCJfbmFtZSIsIl9saW5rIiwiX2NhcmRJZCIsIl9vd25lcklkIiwiX2xpa2VzIiwiX2NvbmZpZyIsIl9yZW5kZXJlciIsIl9saWtlciIsIl9kaXNsaWtlciIsIl9leGNsdWRlciIsIl9kZWxldGVQb3B1cCIsIl91c2VySWQiLCJrZXkiLCJ2YWx1ZSIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsInRlbXBsYXRlU2VsZWN0b3IiLCJjb250ZW50IiwiY2FyZFNlbGVjdG9yIiwiY2xvbmVOb2RlIiwiX2VsZW1lbnQiLCJfZ2V0VGVtcGxhdGUiLCJfY2FyZE5hbWUiLCJjYXJkTmFtZVNlbGVjdG9yIiwiX2NhcmRJbWFnZSIsImNhcmRJbWFnZVNlbGVjdG9yIiwiX2xpa2VCdXR0b24iLCJsaWtlQnV0dG9uU2VsZWN0b3IiLCJfZGVsZXRlQnV0dG9uIiwiZGVsZXRlQnV0dG9uU2VsZWN0b3IiLCJfbGlrZUNvdW50ZXIiLCJsaWtlQ291bnRlclNlbGVjdG9yIiwiX3RoaXMiLCJmaW5kIiwiZWxlbWVudCIsImNsYXNzTGlzdCIsImFkZCIsImxpa2VCdXR0b25BY3RpdmUiLCJldnQiLCJfdGhpczIiLCJyZXMiLCJ0ZXh0Q29udGVudCIsImxlbmd0aCIsInRhcmdldCIsInJlbW92ZSIsIl90aGlzMyIsInBhcmVudEVsZW1lbnQiLCJfdGhpczQiLCJhZGRFdmVudExpc3RlbmVyIiwiX2hhbmRsZUxpa2VCdXR0b24iLCJfaGFuZGxlRGVsZXRlQ2FyZCIsIl9oYW5kbGVPcGVuVmlld2VyUG9wdXAiLCJfY3JlYXRlQ29uc3RzIiwic2V0QXR0cmlidXRlIiwiZGVsZXRlQnV0dG9uVmlzaWJsZSIsIl9pc0xpa2UiLCJfc2V0RXZlbnRMaXN0ZW5lcnMiLCJGb3JtVmFsaWRhdG9yIiwiZm9ybUVsZW1lbnQiLCJjbG9zZUJ1dHRvbiIsIl9pbnB1dExpc3QiLCJldmVyeSIsImlucHV0RWxlbWVudCIsInRyaW0iLCJ2YWxpZGl0eSIsInZhbGlkIiwiX2Zvcm1FbGVtZW50IiwiX2lucHV0U2VsZWN0b3IiLCJpbnB1dFNlbGVjdG9yIiwiX3N1Ym1pdEJ1dHRvblNlbGVjdG9yIiwic3VibWl0QnV0dG9uU2VsZWN0b3IiLCJfaW5hY3RpdmVCdXR0b25DbGFzcyIsImluYWN0aXZlQnV0dG9uQ2xhc3MiLCJfaW5wdXRFcnJvckNsYXNzIiwiaW5wdXRFcnJvckNsYXNzIiwiX2Vycm9yQ2xhc3MiLCJlcnJvckNsYXNzIiwiX2Nsb3NlQnV0dG9uIiwiX3N1Ym1pdEJ1dHRvbkVsZW1lbnQiLCJBcnJheSIsImZyb20iLCJxdWVyeVNlbGVjdG9yQWxsIiwiZXJyb3JFbGVtZW50IiwiY29uY2F0IiwiaWQiLCJ2YWxpZGF0aW9uTWVzc2FnZSIsIl9oaWRlRXJyb3IiLCJfc2hvd0Vycm9yIiwiX2FsbElucHV0c1ZhbGlkIiwiZm9yRWFjaCIsIl9jaGVja0lucHV0VmFsaWRpdHkiLCJfdG9nZ2xlQnV0dG9uU3RhdGUiLCJfcmVzZXRWYWxpZGF0aW9uIiwicHJldmVudERlZmF1bHQiLCJzZXRUaW1lb3V0IiwiUG9wdXAiLCJjbG9zZSIsIl9wb3B1cCIsInBvcHVwU2VsZWN0b3IiLCJfb3BlbkNsYXNzIiwib3BlbkNsYXNzIiwiY2xvc2VCdXR0b25TZWxlY3RvciIsIl9oYW5kbGVFc2NDbG9zZSIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJQb3B1cFdpdGhJbWFnZSIsIl9Qb3B1cCIsIl9jYWxsU3VwZXIiLCJfaW1hZ2UiLCJ2aWV3ZXJJbWFnZVNlbGVjdG9yIiwiX3RpdGxlIiwidmlld2VyVGl0bGVTZWxlY3RvciIsIl9pbmhlcml0cyIsIml0ZW0iLCJzcmMiLCJhbHQiLCJfZ2V0IiwiX2dldFByb3RvdHlwZU9mIiwicHJvdG90eXBlIiwiY2FsbCIsIlBvcHVwV2l0aEZvcm0iLCJzdWJtaXRGdW5jdGlvbiIsIl9zdWJtaXRGdW5jdGlvbiIsIl9zdWJtaXRCdXR0b24iLCJfYnV0dG9uVGV4dCIsImJ1dHRvblRleHQiLCJfaW5wdXRzRGF0YSIsIl9kYXRhIiwiX2dldElucHV0VmFsdWVzIiwicmVzZXQiLCJpc1NhdmluZyIsIlBvcHVwV2l0aENvbmZpcm1hdGlvbiIsIl9jb25maXJtYXRpb25CdXR0b24iLCJjb25maXJtYXRpb25CdXR0b25TZWxlY3RvciIsImlzRGVsZXRpbmciLCJjYWxsQmFjayIsIlNlY3Rpb24iLCJjb250YWluZXJTZWxlY3RvciIsIml0ZW1zIiwiX2l0ZW1zIiwiX2NvbnRhaW5lciIsInByZXBlbmQiLCJuZXdJdGVtcyIsImlubmVySFRNTCIsIlVzZXJJbmZvIiwicGVyc29uU2VsZWN0b3IiLCJhYm91dFNlbGVjdG9yIiwiX2Fib3V0IiwiX3VzZXJJbmZvIiwiYWJvdXQiLCJjYXJkc1NlY3Rpb24iLCJBcGkiLCJiYXNlVVJMIiwidXNlckF1dGhvcml6YXRpb24iLCJfYmFzZVVSTCIsIl91c2VyQXV0aG9yaXphdGlvbiIsInBhdGgiLCJmZXRjaCIsIm1ldGhvZCIsImhlYWRlcnMiLCJhdXRob3JpemF0aW9uIiwiY2FyZE5hbWUiLCJjYXJkTGluayIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5IiwiY2FyZElkIiwiX3JlZjMiLCJ1c2VyTmFtZSIsInBlcnNvbiIsInVzZXJBYm91dCIsIl9yZWY0IiwicGljdHVyZSIsImNvbnNvbGUiLCJsb2ciLCJhdmF0YXIiLCJwcm9maWxlRWRpdEJ1dHRvbiIsImdhbGxlcnlBZGRCdXR0b24iLCJwaWN0dXJlRWRpdEJ1dHRvbiIsImlucHV0TmFtZSIsImlucHV0QWJvdXQiLCJwcm9maWxlUGljdHVyZSIsImNvbmZpZ0NhcmQiLCJjYXJkc0NvbnRhaW5lclNlbGVjdG9yIiwiY29uZmlnRm9ybVZhbGlkYXRvciIsImFwaVRyaXBsZVRlbiIsInZpZXdlclBvcHVwIiwic2V0RXZlbnRMaXN0ZW5lcnMiLCJkZWxldGVDYXJkQ29uZmlybWF0aW9uUG9wdXAiLCJkZWxldGVDYXJkIiwicmVuZGVyRGVsZXRpbmciLCJ0aGVuIiwib2siLCJqc29uIiwiUHJvbWlzZSIsInJlamVjdCIsInN0YXR1cyIsImRhdGEiLCJjYXRjaCIsImVyciIsImZpbmFsbHkiLCJoZW5kbGVPcGVuRGVsZXRlUG9wdXAiLCJvcGVuIiwiaXNEZWxldGUiLCJnZXRJbml0aWFsQ2FyZHMiLCJjYXJkcyIsIm5ld0NhcmQiLCJleGVjdXRvciIsImxpa2UiLCJkaXNsaWtlIiwiYmFjayIsImNhcmRFbGVtZW50IiwiZ2VuZXJhdGVDYXJkIiwiYWRkSXRlbSIsIml0ZW1SZW5kZXJlciIsInBvcHVwR2FsZXJ5IiwicmVuZGVyU2F2aW5nIiwiYWRkTmV3Q2FyZCIsInVzZXJJbmZvIiwiZ2V0VXNlckluZm8iLCJzZXRVc2VySW5mbyIsInBvcHVwUHJvZmlsZSIsInVwZGF0ZVVzZXJJbmZvIiwicG9wdXBQaWN0dXJlIiwidXBkYXRlVXNlckF2YXRhciIsImVuYWJsZVZhbGlkYXRpb24iXSwic291cmNlUm9vdCI6IiJ9